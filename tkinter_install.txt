# Установка библиотек перед компиляцией

sudo apt update
sudo apt install -y tk-dev tcl-dev \
  libx11-dev libxext-dev libxrender-dev libxft-dev libxcursor-dev \
  build-essential zlib1g-dev libssl-dev libffi-dev libbz2-dev libreadline-dev \
  libsqlite3-dev liblzma-dev xz-utils wget

# Компиляция tkinter

cd /tmp
wget https://www.python.org/ftp/python/3.12.3/Python-3.12.3.tgz
tar -xzf Python-3.12.3.tgz
cd Python-3.12.3
./configure --enable-optimizations
make -j"$(nproc)"
sudo make altinstall

# Проверка

python3.12 -c "import tkinter; print('Tk OK', tkinter.TkVersion)"

# поиск версий

which python3
which python3.12

python3 -c "import sys; print(sys.executable)"
python3.12 -c "import sys; print(sys.executable)"

# Установка альтернатив

sudo update-alternatives --install /usr/bin/python3 python3 /usr/local/bin/python3.12 312
sudo update-alternatives --config python3

sudo update-alternatives --install /usr/bin/python python /usr/local/bin/python3.12 312
sudo update-alternatives --config python